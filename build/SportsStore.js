define("SportsStore",["rxjs"],function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var s=e[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(e,n){e.exports=t},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.ObservableStore=r.ObservableStore},function(t,e,n){"use strict";n.r(e),n.d(e,"sportsStoreActions",function(){return i});var r=n(0),s=n(1),o=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(t){function e(){var e=this;return(e=t.call(this,{trackStateHistory:!0,logStateChanges:!0})||this).setState({sports:{matches:[]}},"INIT_STATE"),e}return o(e,t),e.prototype.fetchSports=function(){var t=this;return fetch("https://cors-anywhere.herokuapp.com/https://api.beta.tab.com.au/v1/tab-info-service/sports/Basketball/competitions/NBA/markets?jurisdiction=NSW").then(function(t){return t.json()}).then(function(e){t.setState({sports:e},i.GetSports)})},e.prototype.getSports=function(){var t=this,e=this.getState();return e&&e.sports?Object(r.of)(e.sports):this.fetchSports().then(function(e){return Object(r.of)(t.getState().sports)})},e}(s.ObservableStore),i={GetSports:"GET_SPORTS",GetSport:"GET_SPORT"};e.default=new a},function(t,e,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),o=n(4),a=function(){function t(t){this._stateDispatcher$=new s.BehaviorSubject(null),this._stateWithChangesDispatcher$=new s.BehaviorSubject(null),this._settings=r(r(r({},o.default.settingsDefaults),t),o.default.globalSettings),this.stateChanged=this._stateDispatcher$.asObservable(),this.globalStateChanged=o.default.globalStateDispatcher.asObservable(),this.stateWithPropertyChanges=this._stateWithChangesDispatcher$.asObservable(),this.globalStateWithPropertyChanges=o.default.globalStateWithChangesDispatcher.asObservable(),o.default.services.push(this)}return Object.defineProperty(t.prototype,"stateHistory",{get:function(){return o.default.stateHistory},enumerable:!0,configurable:!0}),Object.defineProperty(t,"globalSettings",{get:function(){return o.default.globalSettings},set:function(e){if(!e||!t.isTesting&&o.default.globalSettings){if(!e)throw new Error("Please provide the global settings you would like to apply to Observable Store");if(e&&o.default.globalSettings)throw new Error("Observable Store global settings may only be set once when the application first loads.")}else o.default.globalSettings=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"allStoreServices",{get:function(){return o.default.services},enumerable:!0,configurable:!0}),t.addExtension=function(t){o.default.addExtension(t)},t.prototype.getState=function(){return this._getStateOrSlice()},t.prototype.setState=function(t,e,n){void 0===n&&(n=!0);var r=this.getState();switch(typeof t){case"function":var s=t(this.getState());this._updateState(s);break;case"object":this._updateState(t);break;default:throw Error("Pass an object or a function for the state parameter when calling setState().")}if(this._settings.trackStateHistory&&o.default.stateHistory.push({action:e,beginState:r,endState:this.getState()}),n&&this.dispatchState(t),this._settings.logStateChanges){var a=this.constructor?"\r\nCaller: "+this.constructor.name:"";console.log("%cSTATE CHANGED","font-weight: bold","\r\nAction: ",e,a,"\r\nState: ",t)}return this.getState()},t.prototype.logStateAction=function(t,e){this._settings.trackStateHistory&&o.default.stateHistory.push({action:e,beginState:this.getState(),endState:o.default.deepClone(t)})},t.prototype.resetStateHistory=function(){o.default.stateHistory=[]},t.prototype._updateState=function(t){o.default.setStoreState(t)},t.prototype._getStateOrSlice=function(){var t=o.default.getStoreState();return this._settings.stateSliceSelector?this._settings.stateSliceSelector(t):t},t.prototype.dispatchState=function(t,e){void 0===e&&(e=!0);var n=this._getStateOrSlice(),r=o.default.getStoreState();this._settings.includeStateChangesOnSubscribe?(console.log("includeStateChangesOnSubscribe is deprecated. Subscribe to stateChangedWithChanges or globalStateChangedWithChanges instead."),this._stateDispatcher$.next({state:n,stateChanges:t}),o.default.globalStateDispatcher.next({state:r,stateChanges:t})):(this._stateDispatcher$.next(n),this._stateWithChangesDispatcher$.next({state:n,stateChanges:t}),e&&(o.default.globalStateDispatcher.next(r),o.default.globalStateWithChangesDispatcher.next({state:r,stateChanges:t})))},t}();e.ObservableStore=a},function(t,e,n){var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),o=n(5),a=function(){function t(){this._storeState=null,this._clonerService=new o.ClonerService,this._extensions=[],this.settingsDefaults={trackStateHistory:!1,logStateChanges:!1,includeStateChangesOnSubscribe:!1,stateSliceSelector:null},this.stateHistory=[],this.globalStateDispatcher=new s.BehaviorSubject(null),this.globalStateWithChangesDispatcher=new s.BehaviorSubject(null),this.globalSettings=null,this.services=[]}return t.prototype.getStoreState=function(){return!this.globalSettings||this.globalSettings&&!this.globalSettings.isProduction?this.deepClone(this._storeState):r({},this._storeState)},t.prototype.setStoreState=function(t){var e=t?r(r({},this.getStoreState()),t):null;(!this.globalSettings||this.globalSettings&&!this.globalSettings.isProduction)&&(e=this.deepClone(e)),this._storeState=e},t.prototype.deepClone=function(t){return this._clonerService.deepClone(t)},t.prototype.addExtension=function(t){this._extensions.push(t),t.init()},t}();e.default=new a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.deepClone=function(t){switch(typeof t){case"object":if(null==t)return t;var e=void 0;return t instanceof Date?((e=new Date).setTime(t.getTime()),e):t instanceof RegExp?e=this.newRegExp(t):(e=JSON.parse(JSON.stringify(t)),this.fixTypes(t,e),e);default:return t}},t.prototype.fixPropertyValue=function(t,e,n){var r=t[n];switch(typeof r){case"object":if(r instanceof Date){var s=new Date;s.setTime(r.getTime()),e[n]=s}else r instanceof RegExp?e[n]=this.newRegExp(r):null==r?e[n]=r:this.fixTypes(r,e[n]);break;case"number":isNaN(r)?e[n]=NaN:r==1/0&&(e[n]=1/0)}},t.prototype.fixTypes=function(t,e){var n=this;if(t instanceof Array)for(var r=0;r<t.length;r++)this.fixPropertyValue(t,e,r);else Object.getOwnPropertyNames(t).forEach(function(r){n.fixPropertyValue(t,e,r)})},t.prototype.newRegExp=function(t){var e=String(t),n=e.lastIndexOf("/");return new RegExp(e.slice(1,n),e.slice(n+1))},t}();e.ClonerService=n}])});
//# sourceMappingURL=SportsStore.js.map